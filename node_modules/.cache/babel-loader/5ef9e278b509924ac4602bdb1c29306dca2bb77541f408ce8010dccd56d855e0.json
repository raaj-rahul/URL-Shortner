{"ast":null,"code":"import { isExpired } from './validation';\nconst STORAGE_KEY = 'shortened_urls';\nexport const saveUrl = urlData => {\n  const existingUrls = getUrls();\n  const newUrls = [...existingUrls, urlData];\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(newUrls));\n  return urlData;\n};\nexport const getUrls = () => {\n  const stored = localStorage.getItem(STORAGE_KEY);\n  return stored ? JSON.parse(stored) : [];\n};\nexport const findUrlByShortcode = shortcode => {\n  const urls = getUrls();\n  return urls.find(url => url.shortcode === shortcode);\n};\nexport const updateUrl = (shortcode, updates) => {\n  const urls = getUrls();\n  const index = urls.findIndex(url => url.shortcode === shortcode);\n  if (index !== -1) {\n    urls[index] = {\n      ...urls[index],\n      ...updates\n    };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(urls));\n    return urls[index];\n  }\n  return null;\n};\nexport const removeExpiredUrls = () => {\n  const urls = getUrls();\n  const validUrls = urls.filter(url => !isExpired(url.expiresAt));\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(validUrls));\n  return validUrls;\n};\nexport const isShortcodeUnique = shortcode => {\n  const urls = getUrls();\n  return !urls.some(url => url.shortcode === shortcode);\n};","map":{"version":3,"names":["isExpired","STORAGE_KEY","saveUrl","urlData","existingUrls","getUrls","newUrls","localStorage","setItem","JSON","stringify","stored","getItem","parse","findUrlByShortcode","shortcode","urls","find","url","updateUrl","updates","index","findIndex","removeExpiredUrls","validUrls","filter","expiresAt","isShortcodeUnique","some"],"sources":["D:/URL Shortner/src/utils/storage.js"],"sourcesContent":["import { isExpired } from './validation';\n\nconst STORAGE_KEY = 'shortened_urls';\n\nexport const saveUrl = (urlData) => {\n  const existingUrls = getUrls();\n  const newUrls = [...existingUrls, urlData];\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(newUrls));\n  return urlData;\n};\n\nexport const getUrls = () => {\n  const stored = localStorage.getItem(STORAGE_KEY);\n  return stored ? JSON.parse(stored) : [];\n};\n\nexport const findUrlByShortcode = (shortcode) => {\n  const urls = getUrls();\n  return urls.find(url => url.shortcode === shortcode);\n};\n\nexport const updateUrl = (shortcode, updates) => {\n  const urls = getUrls();\n  const index = urls.findIndex(url => url.shortcode === shortcode);\n  if (index !== -1) {\n    urls[index] = { ...urls[index], ...updates };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(urls));\n    return urls[index];\n  }\n  return null;\n};\n\nexport const removeExpiredUrls = () => {\n  const urls = getUrls();\n  const validUrls = urls.filter(url => !isExpired(url.expiresAt));\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(validUrls));\n  return validUrls;\n};\n\nexport const isShortcodeUnique = (shortcode) => {\n  const urls = getUrls();\n  return !urls.some(url => url.shortcode === shortcode);\n};"],"mappings":"AAAA,SAASA,SAAS,QAAQ,cAAc;AAExC,MAAMC,WAAW,GAAG,gBAAgB;AAEpC,OAAO,MAAMC,OAAO,GAAIC,OAAO,IAAK;EAClC,MAAMC,YAAY,GAAGC,OAAO,CAAC,CAAC;EAC9B,MAAMC,OAAO,GAAG,CAAC,GAAGF,YAAY,EAAED,OAAO,CAAC;EAC1CI,YAAY,CAACC,OAAO,CAACP,WAAW,EAAEQ,IAAI,CAACC,SAAS,CAACJ,OAAO,CAAC,CAAC;EAC1D,OAAOH,OAAO;AAChB,CAAC;AAED,OAAO,MAAME,OAAO,GAAGA,CAAA,KAAM;EAC3B,MAAMM,MAAM,GAAGJ,YAAY,CAACK,OAAO,CAACX,WAAW,CAAC;EAChD,OAAOU,MAAM,GAAGF,IAAI,CAACI,KAAK,CAACF,MAAM,CAAC,GAAG,EAAE;AACzC,CAAC;AAED,OAAO,MAAMG,kBAAkB,GAAIC,SAAS,IAAK;EAC/C,MAAMC,IAAI,GAAGX,OAAO,CAAC,CAAC;EACtB,OAAOW,IAAI,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACH,SAAS,KAAKA,SAAS,CAAC;AACtD,CAAC;AAED,OAAO,MAAMI,SAAS,GAAGA,CAACJ,SAAS,EAAEK,OAAO,KAAK;EAC/C,MAAMJ,IAAI,GAAGX,OAAO,CAAC,CAAC;EACtB,MAAMgB,KAAK,GAAGL,IAAI,CAACM,SAAS,CAACJ,GAAG,IAAIA,GAAG,CAACH,SAAS,KAAKA,SAAS,CAAC;EAChE,IAAIM,KAAK,KAAK,CAAC,CAAC,EAAE;IAChBL,IAAI,CAACK,KAAK,CAAC,GAAG;MAAE,GAAGL,IAAI,CAACK,KAAK,CAAC;MAAE,GAAGD;IAAQ,CAAC;IAC5Cb,YAAY,CAACC,OAAO,CAACP,WAAW,EAAEQ,IAAI,CAACC,SAAS,CAACM,IAAI,CAAC,CAAC;IACvD,OAAOA,IAAI,CAACK,KAAK,CAAC;EACpB;EACA,OAAO,IAAI;AACb,CAAC;AAED,OAAO,MAAME,iBAAiB,GAAGA,CAAA,KAAM;EACrC,MAAMP,IAAI,GAAGX,OAAO,CAAC,CAAC;EACtB,MAAMmB,SAAS,GAAGR,IAAI,CAACS,MAAM,CAACP,GAAG,IAAI,CAAClB,SAAS,CAACkB,GAAG,CAACQ,SAAS,CAAC,CAAC;EAC/DnB,YAAY,CAACC,OAAO,CAACP,WAAW,EAAEQ,IAAI,CAACC,SAAS,CAACc,SAAS,CAAC,CAAC;EAC5D,OAAOA,SAAS;AAClB,CAAC;AAED,OAAO,MAAMG,iBAAiB,GAAIZ,SAAS,IAAK;EAC9C,MAAMC,IAAI,GAAGX,OAAO,CAAC,CAAC;EACtB,OAAO,CAACW,IAAI,CAACY,IAAI,CAACV,GAAG,IAAIA,GAAG,CAACH,SAAS,KAAKA,SAAS,CAAC;AACvD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}